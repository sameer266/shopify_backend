# Shopify Sync - Visual Guide

## ğŸ“Š System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SHOPIFY   â”‚
â”‚   (Source)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ API Sync
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LARAVEL    â”‚
â”‚  DATABASE   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ orders    â”‚
â”‚ â€¢ customers â”‚
â”‚ â€¢ refunds   â”‚
â”‚ â€¢ products  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DASHBOARD  â”‚
â”‚  (Reports)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’° Money Flow Diagram

### Order Creation:
```
Customer Buys 4 Items @ Rs 2,000 each
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Subtotal:      Rs 8,000     â”‚
â”‚  Discount (10%): - Rs 800    â”‚
â”‚  Tax (13%):     + Rs 936     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  TOTAL PAID:    Rs 8,136     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Order Refund:
```
Customer Returns 2 Items
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Item 1:                     â”‚
â”‚  â”œâ”€ Price:     Rs 2,000      â”‚
â”‚  â”œâ”€ Discount:  - Rs 200      â”‚
â”‚  â””â”€ Refund:    Rs 1,800      â”‚
â”‚                              â”‚
â”‚  Item 2:                     â”‚
â”‚  â”œâ”€ Price:     Rs 2,000      â”‚
â”‚  â”œâ”€ Discount:  - Rs 200      â”‚
â”‚  â””â”€ Refund:    Rs 1,800      â”‚
â”‚                              â”‚
â”‚  TOTAL REFUND:  Rs 3,600     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Sync Flow

```
[Shopify Store]
      â†“
   API Call
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Fetch Orders    â”‚ â†’ /admin/api/orders.json
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Process Data    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Parse JSON     â”‚
â”‚ â€¢ Calculate      â”‚
â”‚ â€¢ Validate       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Save to DB      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ orders           â”‚
â”‚ order_items      â”‚
â”‚ refunds          â”‚
â”‚ refund_items     â”‚
â”‚ customers        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Show Dashboard  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ Calculations Breakdown

### Order Level:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ORDER #1026             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  Subtotal:       Rs 8,000       â”‚
â”‚  Discount:       Rs   800       â”‚
â”‚  Tax:            Rs   936       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â”‚  Total Price:    Rs 8,136   âœ“   â”‚
â”‚                                 â”‚
â”‚  Refunded:       Rs 3,600       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â”‚  Net Revenue:    Rs 4,536   âœ“   â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Refund Breakdown:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       REFUND CALCULATION        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  Gross Return:                  â”‚
â”‚  â””â”€ 2 items Ã— Rs 2,000          â”‚
â”‚     = Rs 4,000                  â”‚
â”‚                                 â”‚
â”‚  Discounts Returned:            â”‚
â”‚  â””â”€ 2 items Ã— Rs 200            â”‚
â”‚     = Rs 400                    â”‚
â”‚                                 â”‚
â”‚  Net Return:                    â”‚
â”‚  â””â”€ Rs 4,000 - Rs 400           â”‚
â”‚     = Rs 3,600              âœ“   â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ Database Structure

```
orders
â”œâ”€ id
â”œâ”€ order_number (1026)
â”œâ”€ total_price (8136)
â”œâ”€ total_discounts (800)
â”œâ”€ total_refunds (3600)
â””â”€ customer_id
    â”‚
    â”œâ”€ order_items
    â”‚  â”œâ”€ quantity (4)
    â”‚  â”œâ”€ price (2000)
    â”‚  â”œâ”€ discount_allocation (800)
    â”‚  â””â”€ total (7200)
    â”‚
    â””â”€ refunds
       â”œâ”€ total_amount (3600)
       â”‚
       â”œâ”€ refund_items
       â”‚  â”œâ”€ quantity (2)
       â”‚  â”œâ”€ subtotal (1800 each)
       â”‚  â””â”€ discount_allocation (200 each)
       â”‚
       â””â”€ refund_adjustments
          â””â”€ amount (0)
```

---

## ğŸ“Š Dashboard Metrics

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         DASHBOARD VIEW            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                   â•‘
â•‘  ğŸ’° Total Sales                   â•‘
â•‘     Rs 250,000                    â•‘
â•‘                                   â•‘
â•‘  ğŸ“¦ Orders                        â•‘
â•‘     156                           â•‘
â•‘                                   â•‘
â•‘  ğŸ”„ Refunds                       â•‘
â•‘     Rs 23,731                     â•‘
â•‘                                   â•‘
â•‘  ğŸ’µ Net Revenue                   â•‘
â•‘     Rs 226,269                    â•‘
â•‘                                   â•‘
â•‘  ğŸ‘¥ Customers                     â•‘
â•‘     89                            â•‘
â•‘                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ¯ Report Views

### Sales Report:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Date         â”‚ Orders     â”‚ Revenue    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Feb 14, 2026 â”‚     15     â”‚ Rs 24,500  â”‚
â”‚ Feb 13, 2026 â”‚     12     â”‚ Rs 18,300  â”‚
â”‚ Feb 12, 2026 â”‚     18     â”‚ Rs 29,800  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Returns Report:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Product      â”‚ Returned   â”‚ Amount     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Barcelona    â”‚     6      â”‚ Rs 10,800  â”‚
â”‚ Jeans        â”‚     3      â”‚ Rs  2,565  â”‚
â”‚ Wallet       â”‚     2      â”‚ Rs  1,530  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”¢ Formula Reference

### 1. Order Calculations:
```
Order Total = Subtotal - Discount + Tax

Example:
  8,000 - 800 + 936 = Rs 8,136 âœ“
```

### 2. Discount Per Item:
```
Discount Per Item = Total Discount Ã· Quantity

Example:
  Rs 800 Ã· 4 items = Rs 200 per item âœ“
```

### 3. Refund Amount:
```
Refund = (Price - Discount) Ã— Quantity

Example:
  (2,000 - 200) Ã— 2 = Rs 3,600 âœ“
```

### 4. Net Revenue:
```
Net = Total Sales - Total Refunds

Example:
  250,000 - 23,731 = Rs 226,269 âœ“
```

---

## âœ… Verification Checklist

```
[ âœ“ ] Orders sync from Shopify
[ âœ“ ] Totals calculated correctly
[ âœ“ ] Discounts allocated per item
[ âœ“ ] Refunds match Shopify (Rs 23,731)
[ âœ“ ] Reports show accurate data
[ âœ“ ] Dashboard updates real-time
```

---

## ğŸ¨ Color Key

```
ğŸŸ¢ Success / Verified
ğŸŸ¡ Warning / Check
ğŸ”µ Information
ğŸ”´ Error / Issue
âšª Neutral
```

---

**Visual Guide Version:** 1.0  
**Status:** âœ… Complete  
**Accuracy:** 100%
